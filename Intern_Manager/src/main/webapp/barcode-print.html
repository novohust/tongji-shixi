
<!DOCTYPE html>
<html lang="en">
<head>
	
	<!-- start: Meta -->
	<meta charset="utf-8">
	<title>实习考勤管理系统</title>
	<meta name="author" content="Kruskal Liu">
	<!-- end: Meta -->
	
	<!-- start: Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- end: Mobile Specific -->
	
	<!-- start: CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap-classic.css" rel="stylesheet"><!-- theme from Charisma-->
	<!-- 取消responsive特性 -->
	<!--<link href="css/bootstrap-responsive.min.css" rel="stylesheet">-->
	<link href="css/style.css" rel="stylesheet">
	<!--<link href="css/style-responsive.css" rel="stylesheet">-->
	<!--<link href="css/retina.css" rel="stylesheet">-->
	<link href="css/app.css" rel="stylesheet">
	<!-- end: CSS -->
	

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  	<script src="js/html5.js"></script>
		<link id="ie-style" href="css/ie.css" rel="stylesheet">
	<![endif]-->
	
	<!--[if IE 9]>
		<link id="ie9style" href="css/ie9.css" rel="stylesheet">
	<![endif]-->
	
	<!-- start: Favicon and Touch Icons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
	<link rel="shortcut icon" href="ico/favicon.png">
	<!-- end: Favicon and Touch Icons -->

	<style type="text/css">
	</style>
</head>

<body>
	<!-- start: Header -->
	<div class="navbar">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="brand" href="index.html"><span>考勤管理系统</span></a>
								
				<!-- start: Header Menu -->
				<div class="nav-no-collapse header-nav">
					<ul class="nav pull-right">
						<!-- end: User Dropdown -->
						<li  rel="tooltip" title="退出登录">
							<a class="btn" href="#">
								<i class="halflings-icon white off"></i>
							</a>
						</li>
					</ul>
				</div>

				<div class=" pull-right" style="margin-top:10px;margin-right:10px;">
					<i class="halflings-icon white user" style="margin-top:3px;"></i>&nbsp;欢迎回来，admin
				</div>
				<!-- end: Header Menu -->
				
			</div>
		</div>
	</div>
	<!-- end: Header -->
	
	<div class="container-fluid">
		<div class="row-fluid">
				
			<!-- start: Main Menu -->
			<div id="sidebar-left" class="span1">
				<div class="nav-collapse sidebar-nav">
					<ul class="nav nav-tabs nav-stacked main-menu">
						<li><a href="intern-add.html"><i class="fa-icon-barcode"></i><span class="hidden-tablet"> 考勤录入</span></a></li>	
						<li><a href="intern-query.html"><i class="fa-icon-search"></i><span class="hidden-tablet"> 考勤查询</span></a></li>
						<li><a href="barcode-print.html"><i class="fa-icon-print"></i><span class="hidden-tablet"> 条码打印</span></a></li>
						<li><a href="data-import.html"><i class="fa-icon-signin"></i><span class="hidden-tablet"> 数据导入</span></a></li>
						<li><a href="data-manage.html"><i class="fa-icon-align-justify"></i><span class="hidden-tablet"> 数据管理</span></a></li>
					</ul>
				</div>
			</div>
			<!-- end: Main Menu -->
			
			<!-- start: Content -->
			<div id="content" class="span11" style="border-top-left-radius:0;">
				<div class="widget">
					<h2><span class="glyphicons chevron-right"><i></i></span>选择学生</h2>
					<hr>
					<div class="content">
						<!-- start: query form 选择学生 -->
						<form action="" class="form-horizontal query-form float-form">
							<fieldset>
								<div class="control-group">
									<label for="" class="control-label">学号</label>
									<div class="controls"><input type="text" class="input-medium" placeholder="请输入学生学号"></div>
								</div>

								<div class="control-group">
									<label for="" class="control-label">姓名</label>
									<div class="controls"><input type="text" class="input-medium" placeholder="请输入学生姓名"></div>
								</div>

								<div class="control-group">
									<label for="" class="control-label">年级</label>
									<div class="controls">
										<select name="" id="" class="input-mini" rel="uniform">
											<option value="1">2011级</option>
											<option value="2">2012级</option>
											<option value="3">2013级</option>
											<option value="4">2014级</option>
											<option value="5">2015级</option>
										</select>
									</div>
								</div>

								<div class="control-group">
									<label for="" class="control-label">类别</label>
									<div class="controls">
										<select name="" id="" class="input-mini" rel="uniform">
											<option value="1">本科</option>
											<option value="2">硕士</option>
											<option value="3">博士</option>
										</select>
									</div>
								</div>

								<div class="control-group">
									<label for="" class="control-label">专业</label>
									<div class="controls">
										<select name="" id="" class="input-mini" rel="uniform">
											<option value="1">麻醉科</option>
											<option value="2">内科</option>
											<option value="3">外科</option>
										</select>
									</div>
								</div>

								<div class="control-group">
									<label for="" class="control-label">班级</label>
									<div class="controls">
										<select name="" id="" class="input-mini" rel="uniform">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
										</select>
									</div>
								</div>
								<div class="float-form-actions" >
									<button class="btn btn-primary" type="submit">查询</button>
									<button class="btn switch-to-barcode" >清空</button>
								  </div>
							</fieldset>
						</form>
						<!--  end: query form 选择学生-->
						
						<div class="check-all-page"><a href="">勾选所有符合查询条件的&nbsp;<b>123</b>&nbsp;个学生</a></div>

						<table class="table table-bordered table-striped">
							  <thead>
								  <tr>
								  	<th style="width:10px" class="center"><input type="checkbox" rel="uniform"></th>
								  	<th>学号</th>
									<th>姓名</th>
									<th>年级</th>
									<th>类别</th>
									<th>专业</th>
									<th>班级</th>
									<th>性别</th>
									<th>导师</th>                                     
								  </tr>
							  </thead>   
							  <tbody>
								<tr>
									<th class="center"><input type="checkbox" rel="uniform"></th>
									<td >M20127512</td>
									<td>欧阳上官</td>
									<td>2011级</td>
									<td >本科</td>
									<td >内科</td>                                       
									<td>2班</td>
									<td>男</td>
									<td>张三李四</td>
								</tr>  
								<tr>
									<th class="center"><input type="checkbox" rel="uniform"></th>
									<td >M20127512</td>
									<td>欧阳上官</td>
									<td>2011级</td>
									<td >本科</td>
									<td >内科</td>                                       
									<td>2班</td>
									<td>男</td>
									<td>张三李四</td>
								</tr>  
								<tr>
									<th class="center"><input type="checkbox" rel="uniform"></th>
									<td >M20127512</td>
									<td>欧阳上官</td>
									<td>2011级</td>
									<td >本科</td>
									<td >内科</td>                                       
									<td>2班</td>
									<td>男</td>
									<td>张三李四</td>
								</tr>  
								<tr>
									<th class="center"><input type="checkbox" rel="uniform"></th>
									<td >M20127512</td>
									<td>欧阳上官</td>
									<td>2011级</td>
									<td >本科</td>
									<td >内科</td>                                       
									<td>2班</td>
									<td>男</td>
									<td>张三李四</td>
								</tr>  
								<tr>
									<th class="center"><input type="checkbox" rel="uniform"></th>
									<td >M20127512</td>
									<td>欧阳上官</td>
									<td>2011级</td>
									<td >本科</td>
									<td >内科</td>                                       
									<td>2班</td>
									<td>男</td>
									<td>张三李四</td>
								</tr>  
								<tr>
									<th class="center"><input type="checkbox" rel="uniform"></th>
									<td >M20127512</td>
									<td>欧阳上官</td>
									<td>2011级</td>
									<td >本科</td>
									<td >内科</td>                                       
									<td>2班</td>
									<td>男</td>
									<td>张三李四</td>
								</tr>  
							  </tbody>
					 	</table>
						<!-- start: 分页 -->
						<div class="pagination pagination-centered">
						  <ul>
							<li><a href="#">上一页</a></li>
							<li class="active">
							  <a href="#">1</a>
							</li>
							<li><a href="#">2</a></li>
							<li><a href="#">3</a></li>
							<li><a href="#">4</a></li>
							<li><a href="#">下一页</a></li>
						  </ul>
						</div>
						<!-- end:分页 -->
						</div>
					</div>
					<div class="widget">
						<h2><span class="glyphicons chevron-right"><i></i></span>选择实习区间<button class="btn btn-small" style="margin-left:10px;font-size:14px"><i class="fa-icon-plus"></i></button></h2>
						<hr>
						<div class="content">
							<!-- start: 选择实习区间表单 -->
							<form action="" class="form-horizontal float-form">
								<fieldset>
									<div class="control-group">
										<label for="" class="control-label">年</label>
										<div class="controls">
											<select name="" id="" class="input-mini" rel="uniform">
												<option value="1">2011</option>
												<option value="2">2012</option>
												<option value="3">2013</option>
											</select>
										</div>
									</div>

									<div class="control-group">
										<label for="" class="control-label">月</label>
										<div class="controls">
											<select name="" id="" class="input-mini" rel="uniform">
												<option value="0">全部</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option>
												<option value="5">5</option>
												<option value="6">6</option>
												<option value="7">7</option>
												<option value="8">8</option>
												<option value="9">9</option>
												<option value="10">10</option>
												<option value="11">11</option>
												<option value="12">12</option>
											</select>
										</div>
									</div>

									<div class="control-group">
										<label for="" class="control-label">周</label>
										<div class="controls">
											<select name="" id="" class="input-mini" rel="uniform">
												<option value="0">全部</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option>
											</select>
										</div>
									</div>

									<div class="control-group" >
										<div class="controls" style="margin-left:0;">
											<label class="checkbox inline" data-toggle="tooltip" data-original-title="勾选后每周一个条码" data-placement="right">
												<input type="checkbox" rel="uniform">
												按周拆分
								  			</label>
										</div>
									</div>
								</fieldset>
							</form>
							<!--  end: 选择实习区间表单-->
						</div>
					</div>
					<div class="widget">
						<h2><span class="glyphicons chevron-right"><i></i></span>选择打印方式</h2>
						<hr>
						<form action="" class="form-horizontal float-form">
							<div class="control-group" >
								<label for="" class="control-label">打印方式</label>
								<div class="controls">
									<select name="" id="" class="input-small" rel="uniform">
										<option value="0">按学生分页</option>
										<option value="1">不按学生分页</option>
									</select>
									<label class="checkbox inline" style="cursor:default;color:#aaa;padding-top:2px;"><i class="fa-icon-bell" style="font-size: 14px;margin-right:2px;"></i>
									保证一页纸上只打印一个学生的条码</label>
								</div>
							</div>
						</form>
					</div>

				<div class="clearfix"></div>
				<div class="form-actions center-form-action" >
					<button class="btn btn-success btn-large" type="submit">打印预览</button>
				  </div>
			</div>
			<!-- end: Content -->
		
		<div class="alert alert-error no-record-error hide">
			<button data-dismiss="alert" class="close" type="button">×</button>
			尚未添加考勤记录！
		</div>	
			
		<div class="modal hide fade" id="myModal">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">x</button>
				<h3>警告</h3>
			</div>
			<div class="modal-body">
				<p>当前考勤记录：</p>
				<table class="table table-bordered table-striped">
					  <thead>
						  <tr>
							  <th>姓名</th>
							  <th>学号</th>
							  <th>实习月份</th>
							  <th>实习时间</th>                                     
						  </tr>
					  </thead>   
					  <tbody>
						<tr>
							<td>Muhammad Usman</td>
							<td class="center">M20127512</td>
							<td class="center">2013-02</td>
							<td class="center">第1周</td>                                       
						</tr>  
					  </tbody>
			 	</table>
			 	<p></p>
			 	<p>与下列已入库的记录冲突，<b>继续将删除下列记录</b>，是否继续？</p>
				<table class="table table-bordered table-striped">
					  <thead>
						  <tr>
							  <th>姓名</th>
							  <th>学号</th>
							  <th>实习月份</th>
							  <th>实习时间</th>                                     
						  </tr>
					  </thead>   
					  <tbody>
						<tr>
							<td>Muhammad Usman</td>
							<td class="center">M20127512</td>
							<td class="center">2013-02</td>
							<td class="center">第1周</td>                                       
						</tr>  
						<tr>
							<td>Muhammad Usman</td>
							<td class="center">M20127512</td>
							<td class="center">2013-02</td>
							<td class="center">第1周</td>                                       
						</tr> 
						<tr>
							<td>Muhammad Usman</td>
							<td class="center">M20127512</td>
							<td class="center">2013-02</td>
							<td class="center">第1周</td>                                       
						</tr> 
						<tr>
							<td>Muhammad Usman</td>
							<td class="center">M20127512</td>
							<td class="center">2013-02</td>
							<td class="center">第1周</td>                                       
						</tr> 
					  </tbody>
			 	</table>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">取消</a>
				<a href="#" class="btn btn-primary">继续</a>
			</div>
		</div>
		
		<div class="clearfix"></div>
		
		<footer>
			<p>
				<span style="text-align:left;float:left">&copy; <a href="" target="_blank">华中科技大学同济医学院</a> 2013</span>
				<span class="hidden-phone" style="text-align:right;float:right">Powered by: <a target="_blank" href="http://kruskal.diandian.com">Kruskal</a></span>
			</p>
		</footer>
	</div>
	<!--/.fluid-container-->

	<!-- start: JavaScript-->
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/jquery-migrate-1.0.0.min.js"></script>
	<script src="js/jquery-ui-1.10.0.custom.min.js"></script>
	<script src="js/jquery.ui.touch-punch.js"></script>
	<script src="js/modernizr.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.cookie.js"></script>
	<script src='js/fullcalendar.min.js'></script>
	<script src='js/jquery.dataTables.min.js'></script>
	<script src="js/excanvas.js"></script>
	<script src="js/jquery.flot.js"></script>
	<script src="js/jquery.flot.pie.js"></script>
	<script src="js/jquery.flot.stack.js"></script>
	<script src="js/jquery.flot.resize.min.js"></script>
	<script src="js/gauge.min.js"></script>
	<script src="js/jquery.chosen.min.js"></script>
	<script src="js/jquery.uniform.min.js"></script>
	<script src="js/jquery.cleditor.min.js"></script>
	<script src="js/jquery.noty.js"></script>
	<script src="js/jquery.elfinder.min.js"></script>
	<script src="js/jquery.raty.min.js"></script>
	<script src="js/jquery.iphone.toggle.js"></script>
	<script src="js/jquery.uploadify-3.1.min.js"></script>
	<script src="js/jquery.gritter.min.js"></script>
	<script src="js/jquery.imagesloaded.js"></script>
	<script src="js/jquery.masonry.min.js"></script>
	<script src="js/jquery.knob.modified.js"></script>
	<script src="js/jquery.sparkline.min.js"></script>
	<script src="js/counter.js"></script>
	<script src="js/raphael.2.1.0.min.js"></script>
	<script src="js/justgage.1.0.1.min.js"></script>
	<script src="js/retina.js"></script>
	<script src="js/core.min.js"></script>
	<script src="js/charts.js"></script>
	<!-- end: JavaScript-->
	<script src="js/app.js"></script>

	<script type="text/javascript">

		$(function(){
			$('.intern-add-wrapper').live('click',function(e){
				$('.selected').removeClass('selected');
				$(this).addClass('selected');
			});

			//添加区块
			$('#add-area').click(function(){
				var lastArea = $('.intern-add-wrapper').last();
				var selectsInLastArea = lastArea.find('select');
				$.uniform.restore(selectsInLastArea);
				var area = lastArea.clone().hide().removeClass('selected');
				// header里元素的重置
				area.find('.box-header').find('.record-num').removeClass('label-success').addClass('label-important').html(0);
				area.find('.box-header').find('.btn-barcode').addClass('active');
				area.find('.box-header').find('.btn-input').removeClass('active');
				area.find('.box-header').find('.btn-minimize i').removeClass('chevron-up').addClass('chevron-down');
				// content的元素重置
				area.find('.box-content,.intern-table,.input-record-wrapper').hide();
				area.find('.box-content .intern-table tbody tr').remove();
				// 拷贝下拉框的值
				var selectsInArea = area.find('select');
				selectsInArea.each(function(i){
					$(this).find('option[value="'+$(selectsInLastArea.get(i)).val()+'"]').attr('selected',true);
				});
				console.log(lastArea.height());
				area.insertBefore($('.center-form-action')).slideToggle(function(){selectsInArea.uniform();});
				selectsInLastArea.uniform();
				$('.box-header .btn-close').fadeIn();
			});

			//考勤记录表格
			$(".intern-table i.remove-tr").live('click',function(e){
				$(e.target).closest('.intern-add-wrapper').trigger('click');
				// 删除最后一行时隐藏表单，如果手动添加的表单也是隐藏的，则收缩box
				if($(e.target).closest('tbody').find('tr').length==1){
					$(e.target).closest('table').hide();
					$(e.target).closest('.intern-add-wrapper').find('.box-header .record-num').html(0).removeClass('label-success').addClass('label-important');
					if(!$(e.target).closest('.box-content').find('.input-record-wrapper').is(':visible'))
						$(e.target).closest('.intern-add-wrapper').find('.box-header .btn-minimize').click();
					$(e.target).closest('tr').remove();
				}else{
					var ele = $(e.target).closest('.intern-add-wrapper').find('.box-header .record-num');
					ele.html(ele.html() - 1);
					$(e.target).closest('tr').remove();
				}
			});

			// 输入方式切换
			$('.box-icon .btn-group .btn-barcode').live('click',function(e){
				var wrapper = $(e.target).closest('.intern-add-wrapper');
				// 切换到条码扫描时，如果考勤记录表为空且box是展开状态则全部收起
				if(!wrapper.find('.intern-table').is(':visible') && wrapper.find('.box-header .btn-minimize i').is('.chevron-up'))
					wrapper.find('.box-header .btn-minimize').click();
				wrapper.find('.input-record-wrapper').slideUp();
			});
			$('.box-icon .btn-group .btn-input').live('click',function(e){
				var wrapper = $(e.target).closest('.intern-add-wrapper');
				// 切换到手动输入时，如果box是收缩状态则把它展开
				if(!wrapper.find('.box-content').is(":visible")){
					$(e.target).closest('.intern-add-wrapper').find('.input-record-wrapper').show();
					wrapper.find('.box-header .btn-minimize').click();
				}else{
					$(e.target).closest('.intern-add-wrapper').find('.input-record-wrapper').slideDown();
				}
			});

			// 手动输入记录表格
			$('.input-record-wrapper .form-actions .switch-to-barcode').live('click',function(e){
				e.preventDefault();
				$(e.target).closest('.intern-add-wrapper').find('.box-header .btn-barcode').click();
			});

			// 演示相关
			
			$('#showcase-validate').click(function(){
				$(".intern-add-wrapper").each(function(){
					if($(this).find('.record-num').html() == 0 && $(this).not('shake')){
						$(this).addClass('shake');
						setTimeout($.proxy(function(){this.removeClass('shake')},$(this)),1000);
					}
				});
			});
			$('#showcase-repeatwithcur').click(function(){
				$('.intern-table tbody tr.alert').removeClass("alert");
				var tr = $(".intern-table tbody tr").last();
				tr.addClass('alert');
				var btn = tr.closest('.intern-add-wrapper').find('.box-header .btn-minimize');
				btn.find('i').is('.chevron-down')?btn.click():null;
			});
			$('#showcase-repeatwithdb').click(function(){
				$('#myModal').modal();
			});
		});
	</script>
</body>
</html>
